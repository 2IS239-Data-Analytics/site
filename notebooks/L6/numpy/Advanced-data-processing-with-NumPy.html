

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-105019106-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Advanced data processing with NumPy &mdash; Geo-Python 2018 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Dealing with errors" href="../../../lessons/L6/interpreting-errors.html" />
    <link rel="prev" title="NumPy lesson" href="../../../lessons/L6/numpy.html" />
    <link href="../../../_static/geo-python.css" rel="stylesheet" type="text/css">
     


  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Geo-Python
          

          
            
            <img src="../../../_static/HY-logo-2017.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2018
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Course information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../course-info/course-info.html">General info</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/course-info.html#course-meetings-in-period-i">Course meetings in Period I</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/course-info.html#instructors">Instructors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../course-info/course-info.html#lecturers">Lecturers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../course-info/course-info.html#course-assistants">Course assistants</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/course-info.html#course-websites">Course websites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../course-info/learning-goals.html">Learning goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../course-info/grading.html">Grading</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/grading.html#general-grading-breakdown">General grading breakdown</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../course-info/installing-anacondas.html">Installing Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/installing-anacondas.html#install-python-on-windows">Install Python on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/installing-anacondas.html#install-python-on-macos">Install Python on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/installing-anacondas.html#install-python-on-linux">Install Python on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/installing-anacondas.html#how-to-find-out-which-conda-command-to-use-when-installing-a-package">How to find out which conda -command to use when installing a package?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../course-info/installing-anacondas.html#the-easiest-way">The easiest way</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../course-info/installing-anacondas.html#alternative-way-to-install-packages-if-typical-doesn-t-work">Alternative way to install packages if typical doesn’t work</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../course-info/python-vocabulary.html">Vocabulary - Basic terms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/python-vocabulary.html#python-vocabulary">Python vocabulary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/python-vocabulary.html#basic-vocabulary-of-version-control">Basic vocabulary of Version Control</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../course-info/resources.html">Resources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/resources.html#books">Books</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/resources.html#python-tutorials">Python tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/resources.html#git-github-tutorials">Git + Github tutorials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../course-info/licensing.html">License and terms of usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/licensing.html#instructional-materials">Instructional materials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../course-info/licensing.html#you-are-free-to">you are free to</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../course-info/licensing.html#under-the-following-terms">Under the following terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../course-info/licensing.html#notices">Notices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../course-info/licensing.html#code-snippets-software">Code snippets / software</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L1/motivation.html">Motivation for the course</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/motivation.html#effective-data-visualization">Effective data visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L1/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/overview.html#lecture-video">Lecture video</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/overview.html#lecture-slides">Lecture slides</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html">Course environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#jupyter-notebooks-and-jupyterlab">Jupyter Notebooks and JupyterLab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#using-your-own-computer">Using your own computer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#cloud-computing-environments">Cloud computing environments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#binder">Binder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#csc-notebooks">CSC Notebooks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#git-github">Git + GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#using-slack">Using Slack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#voting-and-polling">Voting and polling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/course-environment-components.html#page-summary">Page summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L1/slack-usage.html">Communicating with Slack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/slack-usage.html#overview-of-slack">Overview of Slack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/slack-usage.html#activating-your-account">Activating your account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/slack-usage.html#basic-usage-of-slack">Basic usage of Slack</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L1/slack-usage.html#notifying-a-user">Notifying a user</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L1/slack-usage.html#using-threads">Using threads</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/slack-usage.html#general-guidelines-for-communication">General guidelines for communication</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L1/a-taste-of-python.html">A taste of Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Sources">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#About-this-document">About this document</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L1/a-taste-of-python.html#Getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L1/a-taste-of-python.html#Variables,-arithmetic-and-modules">Variables, arithmetic and modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Simple-Python-math">Simple Python math</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Math-operations">Math operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Combining-functions">Combining functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Variables">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Updating-variables">Updating variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Variable-values">Variable values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L1/a-taste-of-python.html#Data-types">Data types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L1/exercise-1.html">Exercise 1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/exercise-1.html#part-1-creating-a-github-com-account-and-using-slack">Part 1 - Creating a GitHub.com account and using Slack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/exercise-1.html#part-2-cooking-up-some-python">Part 2 - Cooking up some Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L1/exercise-1.html#what-to-submit">What to submit</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 2</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L2/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/overview.html#lecture-video">Lecture video</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html">Introduction to Version Control and GitHub</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#familiar">Familiar?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#what-is-version-control">What is version control?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#why-to-use-it">Why to use it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#basic-vocabulary-of-version-control">Basic vocabulary of Version Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#what-is-github">What is GitHub?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#relies-on-git">Relies on Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#social-collaborative-network">Social (collaborative) network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#open-source-science">Open source / science</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#online-tools">Online tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#issue-tracking">Issue tracking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/intro-to-GitHub.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L2/git-basics.html">Meet Git</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/git-basics.html#clone-a-repository-from-github">Clone a repository from GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/git-basics.html#add-changes">Add changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/git-basics.html#commit-changes">Commit changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/git-basics.html#synchronize-changes">Synchronize changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/git-basics.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L2/GitHub-classroom.html">Using Classroom for Github</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/GitHub-classroom.html#classroom-for-github">Classroom for GitHub</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L2/Python-basic-elements.html">Basic elements of Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L2/Python-basic-elements.html#Sources">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L2/Python-basic-elements.html#Data-types-revisited">Data types revisited</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Let's-start-with-some-data">Let’s start with some data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Reminder:-Data-types-and-their-compatibility">Reminder: Data types and their compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Converting-data-from-one-type-to-another">Converting data from one type to another</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Combining-text-and-numbers">Combining text and numbers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L2/Python-basic-elements.html#Lists-and-indices">Lists and indices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Creating-a-list">Creating a list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Index-values">Index values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#A-useful-analog---Bill-the-vending-machine">A useful analog - Bill the vending machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Number-of-items-in-a-list">Number of items in a list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Index-value-tips">Index value tips</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Modifying-list-values">Modifying list values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Data-types-in-lists">Data types in lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Adding-and-removing-values-from-lists">Adding and removing values from lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#The-concept-of-objects">The concept of objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#A-(bad)-example-of-methods">A (bad) example of methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Some-other-useful-list-methods">Some other useful list methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Reversing-a-list">Reversing a list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#Sorting-a-list">Sorting a list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L2/Python-basic-elements.html#List-attributes">List attributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L2/exercise-2.html">Exercise 2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L2/exercise-2.html#exercise-2-hints">Exercise 2 hints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L2/exercise-2.html#list-methods">List methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L2/exercise-2.html#indentation-woes">Indentation woes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 3</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L3/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L3/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L3/overview.html#lecture">Lecture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L3/for-loops.html">for loops</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L3/for-loops.html#Sources">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L3/for-loops.html#Basics-of-for-loops">Basics of for loops</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L3/for-loops.html#A-(bad)-example">A (bad) example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/for-loops.html#Introducing-the-for-loop">Introducing the for loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/for-loops.html#for-loop-format">for loop format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L3/for-loops.html#Your-daily-for-loop">Your daily for loop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/for-loops.html#Another-for-loop-example">Another for loop example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/for-loops.html#for-loop-variables">for loop variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/for-loops.html#for-loops-and-lists">for loops and lists</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L3/for-loops.html#Poll-question-pause">Poll question pause</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/for-loops.html#Calculating-values-in-for-loops">Calculating values in for loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/for-loops.html#Looping-over-the-length-of-lists">Looping over the length of lists</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L3/for-loops.html#Poll-question-pause">Poll question pause</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L3/conditional-statements.html">Conditional statements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L3/conditional-statements.html#Sources">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L3/conditional-statements.html#Basics-of-conditional-statements">Basics of conditional statements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L3/conditional-statements.html#A-simple-conditional-statement">A simple conditional statement</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L3/conditional-statements.html#A-familiar-conditional-scenario">A familiar conditional scenario</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/conditional-statements.html#else-is-not-required">else is not required</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/conditional-statements.html#Introducing-second-test">Introducing second test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L3/conditional-statements.html#Poll-question-pause">Poll question pause</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L3/conditional-statements.html#Combining-conditions">Combining conditions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L3/conditional-statements.html#Another-familiar-conditional-scenario">Another familiar conditional scenario</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L3/exercise-3.html">Exercise 3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L3/exercise-3.html#exercise-3-hints">Exercise 3 hints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L3/exercise-3.html#general-tips">General tips</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L3/exercise-3.html#combining-strings">Combining strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L3/exercise-3.html#nested-if-statements">Nested if statements</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 4</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L4/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L4/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L4/overview.html#lecture">Lecture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L4/functions.html">Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L4/functions.html#Sources">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/functions.html#What-is-a-function?">What is a function?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/functions.html#Anatomy-of-a-function">Anatomy of a function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Our-first-function-(aww...)">Our first function (aww…)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/functions.html#Calling-functions">Calling functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Using-our-new-function">Using our new function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Let's-make-another-function">Let’s make another function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Using-our-second-function">Using our second function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L4/functions.html#Check-your-understanding">Check your understanding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Functions-within-a-function-(Yo-dawg...)">Functions within a function (Yo dawg…)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Using-our-combined-functions">Using our combined functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/functions.html#An-introduction-to-script-files">An introduction to script files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#The-general-concept-of-a-.py-script-file">The general concept of a .py script file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Saving-a-text-file-as-a-Python-file">Saving a text file as a Python file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/functions.html#Saving-and-loading-functions">Saving and loading functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Saving-functions-in-a-script-file">Saving functions in a script file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/functions.html#Calling-functions-from-a-script-file">Calling functions from a script file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Making-sure-we're-in-the-right-working-directory">Making sure we’re in the right working directory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L4/functions.html#Binder-users">Binder users</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L4/functions.html#CSC-notebooks-users">CSC notebooks users</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Changing-the-working-directory">Changing the working directory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L4/functions.html#Binder-users">Binder users</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L4/functions.html#CSC-notebooks-users">CSC notebooks users</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Importing-our-script-functions">Importing our script functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Using-our-script-functions">Using our script functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L4/functions.html#Importing-multiple-functions">Importing multiple functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Importing-all-functions-from-a-script">Importing all functions from a script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/functions.html#Temperature-calculator-(optional,-advanced-topic)">Temperature calculator (<em>optional, advanced topic</em>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Defining-the-function">Defining the function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Adding-some-conditional-statements">Adding some conditional statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Returning-the-result">Returning the result</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Adding-a-docstring">Adding a docstring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Testing-the-new-function">Testing the new function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/functions.html#Using-the-tempCalculator">Using the tempCalculator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L4/modules.html">Loading and using modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L4/modules.html#What-is-a-module?">What is a module?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/modules.html#How-can-modules-be-loaded?">How can modules be loaded?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/modules.html#Loading-a-module">Loading a module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/modules.html#Renaming-imported-modules">Renaming imported modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/modules.html#Importing-a-single-function">Importing a single function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/modules.html#Importing-part-of-a-module">Importing part of a module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/modules.html#How-can-modules-be-used?">How can modules be used?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/modules.html#What-should-I-not-do?">What should I not do?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/modules.html#from-X-import-*">from X import *</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/modules.html#Poor-names-when-renaming-on-import">Poor names when renaming on import</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L4/writing-scripts.html">Writing our scripts the “right” way</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L4/writing-scripts.html#Inline-comments">Inline comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/writing-scripts.html#Use-line-breaks-wisely">Use line breaks wisely</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/writing-scripts.html#Use-a-docstring">Use a docstring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/writing-scripts.html#Advanced-topics">Advanced topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L4/writing-scripts.html#Adding-a-license">Adding a license</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L4/writing-scripts.html#Starting-with-a-shebang">Starting with a shebang</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L4/writing-scripts.html#Page-summary">Page summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L4/exercise-4.html">Exercise 4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L4/exercise-4.html#exercise-4-hints">Exercise 4 hints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L4/exercise-4.html#importing-variables-from-a-script">Importing variables from a script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L4/exercise-4.html#counting-values-from-a-list">Counting values from a list</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 5</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L5/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L5/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L5/overview.html#lecture-videos">Lecture videos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L5/overview.html#pandas">Pandas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L5/overview.html#numpy">NumPy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L5/pandas.html">Pandas lesson</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L5/pandas-overview.html">What is Pandas?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L5/pandas-overview.html#easy-to-use-data-structures">Easy-to-use data structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L5/pandas-overview.html#combines-functionalities-from-many-python-modules">Combines functionalities from many Python modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L5/pandas-overview.html#supports-data-read-write-from-multiple-formats">Supports data read/write from multiple formats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L5/pandas/Exploring-data-using-pandas.html">Exploring data using Pandas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/Exploring-data-using-pandas.html#Preparations-for-this-lesson-(working-environment-and-input-data)">Preparations for this lesson (working environment and input data)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/Exploring-data-using-pandas.html#Reading-a-data-file-with-Pandas">Reading a data file with Pandas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/Exploring-data-using-pandas.html#Exploring-our-dataset">Exploring our dataset</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L5/pandas/processing-data-with-pandas.html">Processing data with Pandas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/processing-data-with-pandas.html#Calculating-with-DataFrames">Calculating with DataFrames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/processing-data-with-pandas.html#Selecting-data-using-indices">Selecting data using indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/processing-data-with-pandas.html#Filtering-and-updating-data">Filtering and updating data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/processing-data-with-pandas.html#Dealing-with-missing-data">Dealing with missing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/processing-data-with-pandas.html#Sorting-data">Sorting data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/processing-data-with-pandas.html#Rounding-and-finding-unique-values">Rounding and finding unique values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/pandas/processing-data-with-pandas.html#Writing-data">Writing data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L5/numpy.html">NumPy lesson</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html">Exploring data using NumPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#What-is-NumPy?">What is NumPy?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Preparation-(the-key-to-success)">Preparation (the key to success)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Reading-a-data-file-with-NumPy">Reading a data file with NumPy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Importing-NumPy">Importing NumPy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Reading-a-data-file">Reading a data file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Inspecting-our-data-file">Inspecting our data file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Reading-our-data-file,-round-2">Reading our data file, round 2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Exploring-our-dataset">Exploring our dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Checking-the-array-data-type">Checking the array data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Checking-the-data-array-type">Checking the data array type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Checking-the-size-of-the-dataset">Checking the size of the dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Working-with-our-data---Index-slicing">Working with our data - Index slicing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Slicing-our-data-into-columns">Slicing our data into columns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Checking-the-data-in-memory">Checking the data in memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Basic-data-calculations-in-NumPy">Basic data calculations in NumPy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/1-Exploring-data-using-numpy.html#Data-type-conversions">Data type conversions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html">Processing data with NumPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Calculating-with-NumPy-arrays">Calculating with NumPy arrays</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Creating-arrays">Creating arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Calcuating-values-using-other-arrays">Calcuating values using other arrays</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Filtering-data">Filtering data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Using-data-masks">Using data masks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Removing-missing/bad-data">Removing missing/bad data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Rounding-and-finding-unique-values">Rounding and finding unique values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Finding-unique-values">Finding unique values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Saving-our-data-to-a-file">Saving our data to a file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Re-creating-our-2D-data-array">Re-creating our 2D data array</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../L5/numpy/2-Processing-data-with-NumPy.html#Saving-our-data">Saving our data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L5/exercise-5.html">Exercise 5</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L5/exercise-5.html#exercise-5-hints-for-pandas">Exercise 5 hints for Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L5/exercise-5.html#exercise-5-hints-for-numpy">Exercise 5 hints for NumPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L5/exercise-5.html#formatting-output-to-written-to-files">Formatting output to written to files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 6</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L6/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/overview.html#lesson-videos">Lesson videos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L6/pandas.html">Pandas lesson</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pandas/advanced-data-processing-with-pandas.html">Advanced data processing with Pandas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pandas/advanced-data-processing-with-pandas.html#Reading-the-data">Reading the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pandas/advanced-data-processing-with-pandas.html#Exploring-data-and-renaming-columns">Exploring data and renaming columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pandas/advanced-data-processing-with-pandas.html#Iterating-rows-and-using-self-made-functions-in-Pandas">Iterating rows and using self-made functions in Pandas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pandas/advanced-data-processing-with-pandas.html#String-manipulation-in-Pandas">String manipulation in Pandas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pandas/advanced-data-processing-with-pandas.html#Aggregating-data-in-Pandas-by-grouping">Aggregating data in Pandas by grouping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pandas/advanced-data-processing-with-pandas.html#Finding-outliers-from-the-data">Finding outliers from the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pandas/advanced-data-processing-with-pandas.html#Repeating-the-data-analysis-with-larger-dataset">Repeating the data analysis with larger dataset</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../lessons/L6/numpy.html">NumPy lesson</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Advanced data processing with NumPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Getting-started">Getting started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Previewing-the-data-file.">Previewing the data file.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Importing-NumPy-and-loading-the-data">Importing NumPy and loading the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Converting-the-missing-data-to-nan-values">Converting the missing data to nan values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Splitting-the-data-into-column-arrays">Splitting the data into column arrays</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Examining-our-data">Examining our data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Basic-observations">Basic observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Checking-for-missing/bad-data">Checking for missing/bad data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Calculations-within-a-date-range">Calculations within a date range</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Removing-missing-data">Removing missing data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Average-annual-temperature,-method-1">Average annual temperature, method 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Average-monthly-temperatures">Average monthly temperatures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Splitting-dates-into-separate-year,-month,-and-day">Splitting dates into separate year, month, and day</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Splitting-a-single-date-string">Splitting a single date string</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Splitting-dates-in-a-NumPy-array">Splitting dates in a NumPy array</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Finding-averages-in-a-date-range">Finding averages in a date range</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Finding-the-average-monthly-max-temperature">Finding the average monthly max temperature</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Using-functions-on-NumPy-array-data">Using functions on NumPy array data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Computing-monthly-average-temperatures-for-a-range-of-years">Computing monthly average temperatures for a range of years</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Calculating-temperature-anomalies">Calculating temperature anomalies</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L6/interpreting-errors.html">Dealing with errors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/interpreting-errors.html#interpreting-error-messages">Interpreting error messages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/interpreting-errors.html#common-errors-and-exceptions">Common errors and exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/interpreting-errors.html#reading-error-messages">Reading error messages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/interpreting-errors.html#assertions">Assertions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/interpreting-errors.html#more-information">More information</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L6/debugging-scripts.html">Debugging Python scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/debugging-scripts.html#source">Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/debugging-scripts.html#test-your-code-with-known-outputs">Test your code with known outputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/debugging-scripts.html#testing-with-a-simplified-data-file">Testing with a simplified data file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/debugging-scripts.html#make-your-code-crash-quickly-and-regularly">Make your code crash quickly and regularly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/debugging-scripts.html#make-small-changes-and-track-them">Make small changes and track them</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L6/exercise-6.html">Exercise 6</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#exercise-6-hints-for-pandas">Exercise 6 hints for Pandas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#data-format-for-problems-1-3">Data format for problems 1-3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#reading-in-fixed-width-text-files">Reading in fixed-width text files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#skipping-the-second-row-of-a-file">Skipping the second row of a file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#joining-data-from-one-dataframe-to-another">Joining data from one DataFrame to another</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#exercise-6-hints-for-numpy">Exercise 6 hints for NumPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#calculating-average-temperatures-for-each-month-e-g-february-1954">Calculating average temperatures for each month (e.g., February 1954)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#calculating-average-temperatures-for-all-months-e-g-february-1952-1980">Calculating average temperatures for all months (e.g., February 1952-1980)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#calculating-temperatures-anomalies">Calculating temperatures anomalies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#checking-your-work-for-problem-2">Checking your work for problem 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L6/exercise-6.html#checking-your-work-for-problem-3">Checking your work for problem 3</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Lesson 7</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L7/overview.html">Lesson overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L7/overview.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L7/overview.html#lesson-videos">Lesson videos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L7/python-plotting.html">Plotting in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L7/plot-anatomy.html">Anatomy of a plot</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L7/plot-anatomy.html#common-terms-when-doing-plotting">Common terms when doing plotting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L7/matplotlib.html">Plotting with Matplotlib</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L7/matplotlib.html#Our-dataset">Our dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L7/matplotlib.html#Getting-started">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L7/matplotlib.html#Loading-the-data-with-NumPy">Loading the data with NumPy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L7/matplotlib.html#Loading-the-data-with-Pandas">Loading the data with Pandas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L7/matplotlib.html#Our-first-plot">Our first plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L7/matplotlib.html#Basic-plot-formatting">Basic plot formatting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L7/matplotlib.html#Embiggening*-the-plot">Embiggening* the plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L7/matplotlib.html#Adding-text-labels-to-a-plot">Adding text labels to a plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L7/matplotlib.html#Changing-the-axis-ranges">Changing the axis ranges</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L7/matplotlib.html#Bar-plots-in-Matplotlib">Bar plots in Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L7/matplotlib.html#Saving-your-plots-as-image-files">Saving your plots as image files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../L7/advanced-plotting.html">More advanced plotting with Matplotlib</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../L7/advanced-plotting.html#The-dataset">The dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../L7/advanced-plotting.html#Getting-started">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L7/advanced-plotting.html#Loading-the-data-using-NumPy">Loading the data using NumPy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L7/advanced-plotting.html#Loading-the-data-using-Pandas">Loading the data using Pandas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L7/advanced-plotting.html#Preparing-the-data">Preparing the data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L7/advanced-plotting.html#Converting-temperatures-to-Celsius">Converting temperatures to Celsius</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../L7/advanced-plotting.html#Using-subplots">Using subplots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../L7/advanced-plotting.html#Extracting-seasonal-temperatures">Extracting seasonal temperatures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L7/advanced-plotting.html#Finding-data-bounds">Finding data bounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L7/advanced-plotting.html#Creating-our-first-set-of-subplots">Creating our first set of subplots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../L7/advanced-plotting.html#Converting-our-date-string-to-dates-for-Matplotlib-plotting">Converting our date string to dates for Matplotlib plotting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../lessons/L7/exercise-7.html">Exercise 7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L7/exercise-7.html#hints-for-exercise-7">Hints for Exercise 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L7/exercise-7.html#labels-and-legends">Labels and legends</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L7/exercise-7.html#saving-multiple-plots-into-a-directory">Saving multiple plots into a directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lessons/L7/exercise-7.html#creating-an-animation-from-multiple-images">Creating an animation from multiple images</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../lessons/L7/exercise-7.html#creating-the-animation">Creating the animation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Geo-Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../lessons/L6/numpy.html">NumPy lesson</a> &raquo;</li>
        
      <li>Advanced data processing with NumPy</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/notebooks/L6/numpy/Advanced-data-processing-with-NumPy.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  






<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="admonition note">
This page was generated from <a class="reference external" href="https://github.com/Geo-Python/2018/blob/master/source/notebooks/L6/numpy/Advanced-data-processing-with-NumPy.ipynb">source/notebooks/L6/numpy/Advanced-data-processing-with-NumPy.ipynb</a>.
<span class="raw-html"><br/><a href="https://mybinder.org/v2/gh/geo-python/2018/master?urlpath=lab/tree/source/notebooks/L6/numpy/Advanced-data-processing-with-NumPy.ipynb"><img alt="Binder badge" src="https://img.shields.io/badge/launch-full%20binder-red.svg" style="vertical-align:text-bottom"></a></span>
<span class="raw-html"><a href="https://mybinder.org/v2/gh/geo-python/notebooks/master?urlpath=lab/tree/notebooks/L6/numpy/Advanced-data-processing-with-NumPy.ipynb"><img alt="Binder badge" src="https://img.shields.io/badge/launch-student%20binder-red.svg" style="vertical-align:text-bottom"></a></span>
<span class="raw-html"><a href="https://notebooks.csc.fi/#/blueprint/d71cd2d26d924f48820dc22b67a87d8e"><img alt="CSC badge" src="https://img.shields.io/badge/launch-CSC%20notebook-blue.svg" style="vertical-align:text-bottom"></a></span></div>
<div class="section" id="Advanced-data-processing-with-NumPy">
<h1>Advanced data processing with NumPy<a class="headerlink" href="#Advanced-data-processing-with-NumPy" title="Permalink to this headline">¶</a></h1>
<p>This week we will continue developing our skills using NumPy to process
real data. In the lesson this week we are using daily weather
observations from the <a class="reference external" href="https://en.wikipedia.org/wiki/Willow_Run_Airport">Detroit Willow Run
Airport</a> station,
near Ypsilanti, Michigan in the U.S. This data file is in the same
format as the one you’ll work with in this week’s exercise.</p>
<div class="section" id="Getting-started">
<h2>Getting started<a class="headerlink" href="#Getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Previewing-the-data-file.">
<h3>Previewing the data file.<a class="headerlink" href="#Previewing-the-data-file." title="Permalink to this headline">¶</a></h3>
<p>To start, let’s have a look at the top few lines of our data file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">STATION</span>           <span class="n">ELEVATION</span>  <span class="n">LATITUDE</span>   <span class="n">LONGITUDE</span>  <span class="n">DATE</span>     <span class="n">PRCP</span>     <span class="n">TAVG</span>     <span class="n">TMAX</span>     <span class="n">TMIN</span>
<span class="o">-----------------</span> <span class="o">----------</span> <span class="o">----------</span> <span class="o">----------</span> <span class="o">--------</span> <span class="o">--------</span> <span class="o">--------</span> <span class="o">--------</span> <span class="o">--------</span>
<span class="n">GHCND</span><span class="p">:</span><span class="n">USW00014853</span>      <span class="mf">236.8</span>   <span class="mf">42.23333</span>  <span class="o">-</span><span class="mf">83.53333</span> <span class="mi">20070101</span> <span class="mf">0.03</span>     <span class="o">-</span><span class="mi">9999</span>    <span class="mi">50</span>       <span class="mi">32</span>
<span class="n">GHCND</span><span class="p">:</span><span class="n">USW00014853</span>      <span class="mf">236.8</span>   <span class="mf">42.23333</span>  <span class="o">-</span><span class="mf">83.53333</span> <span class="mi">20070102</span> <span class="mf">0.00</span>     <span class="o">-</span><span class="mi">9999</span>    <span class="mi">43</span>       <span class="mi">26</span>
<span class="n">GHCND</span><span class="p">:</span><span class="n">USW00014853</span>      <span class="mf">236.8</span>   <span class="mf">42.23333</span>  <span class="o">-</span><span class="mf">83.53333</span> <span class="mi">20070103</span> <span class="mf">0.00</span>     <span class="o">-</span><span class="mi">9999</span>    <span class="mi">46</span>       <span class="mi">30</span>
</pre></div>
</div>
<p>So, we have 9 columns in the file, with values separated by variable
numbers of spaces. Another thing to notice are the <code class="docutils literal notranslate"><span class="pre">-9999</span></code> values,
which indicate missing data. Otherwise, some columns contain numerical
values, and those will be our focus for today’s lesson. If you prefer,
you’re welcome to open the data file in the JupyterLab editor to explore
more.</p>
</div>
<div class="section" id="Importing-NumPy-and-loading-the-data">
<h3>Importing NumPy and loading the data<a class="headerlink" href="#Importing-NumPy-and-loading-the-data" title="Permalink to this headline">¶</a></h3>
<p>Now let’s import NumPy and read in our data to a variable called
<code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<p>Now we can read the data file. Note that we only want the <code class="docutils literal notranslate"><span class="pre">DATE</span></code>,
<code class="docutils literal notranslate"><span class="pre">TAVG</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">TMIN</span></code> values, which we can select using the
<code class="docutils literal notranslate"><span class="pre">usecols()</span></code> parameter. Don’t forget about skipping the header!</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">fp</span> <span class="o">=</span> <span class="s1">&#39;1495566.txt&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Now let’s see what we’re dealing with…</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[  2.00701010e+07  -9.99900000e+03   5.00000000e+01   3.20000000e+01]
 [  2.00701020e+07  -9.99900000e+03   4.30000000e+01   2.60000000e+01]
 [  2.00701030e+07  -9.99900000e+03   4.60000000e+01   3.00000000e+01]
 ...,
 [  2.01712290e+07  -9.99900000e+03   2.00000000e+01   1.10000000e+01]
 [  2.01712300e+07  -9.99900000e+03   1.70000000e+01   4.00000000e+00]
 [  2.01712310e+07  -9.99900000e+03   1.70000000e+01  -3.00000000e+00]]
</pre></div></div>
</div>
</div>
<div class="section" id="Converting-the-missing-data-to-nan-values">
<h3>Converting the missing data to nan values<a class="headerlink" href="#Converting-the-missing-data-to-nan-values" title="Permalink to this headline">¶</a></h3>
<p>Our first processing task will be to convert the missing data values to
<code class="docutils literal notranslate"><span class="pre">np.nan</span></code> values, which will make it easier to use masks later in our
data processing. We can go ahead and do this to all of the data to
start, following a similar approach to how we used masks in the last
lesson.</p>
<p>First, we need to identify a useful test for identifying missing data.
We could could convert the data to integer values everywhere and test
for values being equal to <code class="docutils literal notranslate"><span class="pre">-9999</span></code>, but there’s an even easier option.
Since we know all of our data are dates or temperatures, we can simply
look for numbers below <code class="docutils literal notranslate"><span class="pre">-9998</span></code> to identify missing data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">9998</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="n">data_mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[  2.00701010e+07              nan   5.00000000e+01   3.20000000e+01]
 [  2.00701020e+07              nan   4.30000000e+01   2.60000000e+01]
 [  2.00701030e+07              nan   4.60000000e+01   3.00000000e+01]
 ...,
 [  2.01712290e+07              nan   2.00000000e+01   1.10000000e+01]
 [  2.01712300e+07              nan   1.70000000e+01   4.00000000e+00]
 [  2.01712310e+07              nan   1.70000000e+01  -3.00000000e+00]]
</pre></div></div>
</div>
<p>Now we see the expected <code class="docutils literal notranslate"><span class="pre">nan</span></code> values in place of the <code class="docutils literal notranslate"><span class="pre">-9999</span></code> values.
Note that a <code class="docutils literal notranslate"><span class="pre">nan</span></code> value in NumPy is refered to as <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>.</p>
</div>
<div class="section" id="Splitting-the-data-into-column-arrays">
<h3>Splitting the data into column arrays<a class="headerlink" href="#Splitting-the-data-into-column-arrays" title="Permalink to this headline">¶</a></h3>
<p>Like the last lesson, we can now separate our data into different arrays
with meaningful names. For example, we can create a <code class="docutils literal notranslate"><span class="pre">date</span></code> array using
the first column of <code class="docutils literal notranslate"><span class="pre">data</span></code>. Remember that we’ll do this using array
slicing.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[ 20070101.  20070102.  20070103. ...,  20171229.  20171230.  20171231.]
</pre></div></div>
</div>
<p>Looks good, let’s do the others.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tavg</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">tmax</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">tmin</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Examining-our-data">
<h2>Examining our data<a class="headerlink" href="#Examining-our-data" title="Permalink to this headline">¶</a></h2>
<p>Now that we have loaded the data, let’s have a look at what we’re
dealing with.</p>
<div class="section" id="Basic-observations">
<h3>Basic observations<a class="headerlink" href="#Basic-observations" title="Permalink to this headline">¶</a></h3>
<p>We can start by looking at some basic information, such as the starting
and ending dates for the observations.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
20070101.0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
20171231.0
</pre></div></div>
</div>
<p>OK, so we can see our observations start on January 1, 2007 and continue
until December 31, 2017.</p>
</div>
<div class="section" id="Checking-for-missing/bad-data">
<h3>Checking for missing/bad data<a class="headerlink" href="#Checking-for-missing/bad-data" title="Permalink to this headline">¶</a></h3>
<p>Let’s make sure that we don’t have any missing dates by looking for any
<code class="docutils literal notranslate"><span class="pre">nan</span></code> values in the <code class="docutils literal notranslate"><span class="pre">date</span></code> array. To do this, we’ll need a new NumPy
function we’ve not yet used called <code class="docutils literal notranslate"><span class="pre">np.count_nonzero()</span></code>.
<code class="docutils literal notranslate"><span class="pre">np.count_nonzero()</span></code> does exactly what is says, counts all values that
are not equal to zero in an array and returns the sum. In this case,
<code class="docutils literal notranslate"><span class="pre">False</span></code> values in mask arrays, for example, are considered to be equal
to zero in the count. Thus, if we have a mask array with all of the
<em>finite</em> values for an array like <code class="docutils literal notranslate"><span class="pre">date</span></code>, that should give
<code class="docutils literal notranslate"><span class="pre">np.count_nonzero()</span></code> will give us the number of dates with useful
data. Let’s see how it works.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;Number of days:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">date_mask</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Number of days: 4016
</pre></div></div>
</div>
<p>OK, so we have 4016 dates in the data we’re using, but how do we know
whether we’re missing any dates? One way to check is to take the
opposite of the mask array values by using the <code class="docutils literal notranslate"><span class="pre">~</span></code> character, the
logical not operator. How does it work? Let’s see.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">missing_date_mask</span> <span class="o">=</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;Number of missing days:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">missing_date_mask</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Number of missing days: 0
</pre></div></div>
</div>
<p>OK, so no missing days, which is not really a big surprise. Good to know
at least. How about for the other arrays like <code class="docutils literal notranslate"><span class="pre">tavg</span></code>?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tavg_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">tavg</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Number of average temps:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">tavg_mask</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Number of average temps: 0
</pre></div></div>
</div>
<p>Oh no! So we don’t have any average temperature observations. Looks like
we’ll have to use another array for exploring the temperature data.</p>
</div>
</div>
<div class="section" id="Calculations-within-a-date-range">
<h2>Calculations within a date range<a class="headerlink" href="#Calculations-within-a-date-range" title="Permalink to this headline">¶</a></h2>
<p>One common thing we’d like to do is calculate something about our data
over a fixed time range, for example, one year. We’ve seen this idea
previously, but just to remind you we can do this by masking our data.</p>
<div class="section" id="Removing-missing-data">
<h3>Removing missing data<a class="headerlink" href="#Removing-missing-data" title="Permalink to this headline">¶</a></h3>
<p>First, let’s check for any missing data in the <code class="docutils literal notranslate"><span class="pre">tmax</span></code> array.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">missing_tmax_mask</span> <span class="o">=</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">tmax</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Number of missing tmax values:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">missing_tmax_mask</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Number of missing tmax values: 7
</pre></div></div>
</div>
<p>OK, so we need to remove the missing values first, which we can do as
we’ve done before: Make a mask array, then remove bad values using the
mask.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tmax_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">tmax</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tmax_clean</span> <span class="o">=</span> <span class="n">tmax</span><span class="p">[</span><span class="n">tmax_mask</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>We can also remove the corresponding dates by using the same mask
(<code class="docutils literal notranslate"><span class="pre">tmax_mask</span></code>) on our <code class="docutils literal notranslate"><span class="pre">date</span></code> array.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date_clean</span> <span class="o">=</span> <span class="n">date</span><span class="p">[</span><span class="n">tmax_mask</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Average-annual-temperature,-method-1">
<h3>Average annual temperature, method 1<a class="headerlink" href="#Average-annual-temperature,-method-1" title="Permalink to this headline">¶</a></h3>
<p>OK, now let’s use a range of dates to find the average maximum
temperature for one year. In this case, let’s go for 2010.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tmax_2010</span> <span class="o">=</span> <span class="n">tmax</span><span class="p">[(</span><span class="n">date</span> <span class="o">&gt;=</span> <span class="mi">20100101</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">date</span> <span class="o">&lt;=</span> <span class="mi">20101231</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">tmax_2010</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[21]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>60.802739726027397
</pre></div>
</div>
</div>
<p>OK, so this works, but we’ll see another more flexible approach in just
a moment.</p>
</div>
<div class="section" id="Average-monthly-temperatures">
<h3>Average monthly temperatures<a class="headerlink" href="#Average-monthly-temperatures" title="Permalink to this headline">¶</a></h3>
<p>So one possibility is for us to use numerical ranges to calculate things
like average annual temperatures. An alternative is to split date into
different arrays, with one for each year, month, and day in the data. To
do this, we first need to convert the <code class="docutils literal notranslate"><span class="pre">date_clean</span></code> array to be
character string values rather than <code class="docutils literal notranslate"><span class="pre">float64</span></code> values. Let’s do that.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date_clean</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[22]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>array([&#39;20070101.0&#39;, &#39;20070102.0&#39;, &#39;20070103.0&#39;, ..., &#39;20171229.0&#39;,
       &#39;20171230.0&#39;, &#39;20171231.0&#39;],
      dtype=&#39;&lt;U32&#39;)
</pre></div>
</div>
</div>
<p>Well, that’s not quite what we want. Ideally, we want a date in the form
<code class="docutils literal notranslate"><span class="pre">YYYYMMDD</span></code> where <code class="docutils literal notranslate"><span class="pre">YYYY</span></code> is the year, <code class="docutils literal notranslate"><span class="pre">MM</span></code> is the month, and <code class="docutils literal notranslate"><span class="pre">DD</span></code>
is the day. Looks like we need to convert the date to an integer first.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date_clean_int</span> <span class="o">=</span> <span class="n">date_clean</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date_clean_str</span> <span class="o">=</span> <span class="n">date_clean_int</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">date_clean_str</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;20070101&#39; &#39;20070102&#39; &#39;20070103&#39; ..., &#39;20171229&#39; &#39;20171230&#39; &#39;20171231&#39;]
</pre></div></div>
</div>
<p>That’s better.</p>
</div>
</div>
<div class="section" id="Splitting-dates-into-separate-year,-month,-and-day">
<h2>Splitting dates into separate year, month, and day<a class="headerlink" href="#Splitting-dates-into-separate-year,-month,-and-day" title="Permalink to this headline">¶</a></h2>
<p>Now we can go about splitting our dates into separate arrays for the
year, month, and day.</p>
<div class="section" id="Splitting-a-single-date-string">
<h3>Splitting a single date string<a class="headerlink" href="#Splitting-a-single-date-string" title="Permalink to this headline">¶</a></h3>
<p>As a reminder, it is first useful to recall that character strings can
be sliced using index values just like arrays.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date_fmt</span> <span class="o">=</span> <span class="s2">&quot;YYYYMMDD&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date_fmt</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[27]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;YYYY&#39;
</pre></div>
</div>
</div>
<p>So by taking the first 4 values from the string <code class="docutils literal notranslate"><span class="pre">YYYYMMDD</span></code> we get
<code class="docutils literal notranslate"><span class="pre">YYYY</span></code>. We can do the same for the month, for example.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">date_fmt</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[28]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;MM&#39;
</pre></div>
</div>
</div>
</div>
<div class="section" id="Splitting-dates-in-a-NumPy-array">
<h3>Splitting dates in a NumPy array<a class="headerlink" href="#Splitting-dates-in-a-NumPy-array" title="Permalink to this headline">¶</a></h3>
<p>With this in mind, we can now attempt the same in our NumPy array
<code class="docutils literal notranslate"><span class="pre">date_clean_str</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">year</span> <span class="o">=</span> <span class="p">[</span><span class="n">datenow</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="k">for</span> <span class="n">datenow</span> <span class="ow">in</span> <span class="n">date_clean_str</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">year</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;2007&#39; &#39;2007&#39; &#39;2007&#39; ..., &#39;2017&#39; &#39;2017&#39; &#39;2017&#39;]
</pre></div></div>
</div>
<p>OK, so we have the year now, but what happened with the
<code class="docutils literal notranslate"><span class="pre">[datenow[0:4]</span> <span class="pre">for</span> <span class="pre">datenow</span> <span class="pre">in</span> <span class="pre">date_clean_str]</span></code> stuff. We’ve never seen
that before. You’re right, this is new, and is an example of list
comprehension in Python. Basically, it is a shorthand approach for
looping over all of the values and doing something to them. In our case,
we find the first 4 characters for each value in the <code class="docutils literal notranslate"><span class="pre">date</span></code> array.</p>
<p>To be more clear,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">datenow</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="k">for</span> <span class="n">datenow</span> <span class="ow">in</span> <span class="n">date_clean_str</span><span class="p">]</span>
</pre></div>
</div>
<p>is equivalent to doing</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">year</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">datenow</span> <span class="ow">in</span> <span class="n">date_clean_str</span><span class="p">:</span>
    <span class="n">year</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">datenow</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>since this would produce a new list called <code class="docutils literal notranslate"><span class="pre">year</span></code>, we then need to use
the <code class="docutils literal notranslate"><span class="pre">np.array()</span></code> function to convert that list to a NumPy array. Let’s
do the same for the months and days.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">month</span> <span class="o">=</span> <span class="p">[</span><span class="n">datenow</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span> <span class="k">for</span> <span class="n">datenow</span> <span class="ow">in</span> <span class="n">date_clean_str</span><span class="p">]</span>
<span class="n">month</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">month</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">day</span> <span class="o">=</span> <span class="p">[</span><span class="n">datenow</span><span class="p">[</span><span class="mi">6</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="k">for</span> <span class="n">datenow</span> <span class="ow">in</span> <span class="n">date_clean_str</span><span class="p">]</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">day</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Finding-averages-in-a-date-range">
<h2>Finding averages in a date range<a class="headerlink" href="#Finding-averages-in-a-date-range" title="Permalink to this headline">¶</a></h2>
<p>Now that we have separate arrays for the year, month, and day we can do
some fun stuff like calculate the monthly average temperature for a
given year.</p>
<div class="section" id="Finding-the-average-monthly-max-temperature">
<h3>Finding the average monthly max temperature<a class="headerlink" href="#Finding-the-average-monthly-max-temperature" title="Permalink to this headline">¶</a></h3>
<p>Let’s take 2010 again as our example and find the average temperatures
for each month in 2010. For this, we can use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">means_2010</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">month_now</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">month</span><span class="p">):</span>
    <span class="n">means_2010</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmax_clean</span><span class="p">[(</span><span class="n">month</span> <span class="o">==</span> <span class="n">month_now</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">year</span> <span class="o">==</span> <span class="s1">&#39;2010&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">means_2010</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[ 29.77419355  32.46428571  52.51612903  65.76666667  71.96774194
  80.23333333  87.5483871   85.          74.36666667  65.5483871
  51.83333333  30.80645161]
</pre></div></div>
</div>
<p>OK, so let’s break this down as there were a few things that happened
here that might be unfamiliar.</p>
<ol class="arabic simple">
<li>We created an array of zeros with 12 locations to store the monthly
average temperatures.</li>
<li>We used an index variable called <code class="docutils literal notranslate"><span class="pre">index</span></code> to define where to store
those monthly average temperatures. We could have done this
differently, but there is a good reason to use <code class="docutils literal notranslate"><span class="pre">index</span></code> here because
it is more flexible if we wanted to consider more than one year of
data as you’ll see in this week’s exercise.</li>
<li>We then used a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to go through each unique month (found
using <code class="docutils literal notranslate"><span class="pre">np.unique()</span></code>).</li>
<li>For each month we found the max temperature using the condition
<code class="docutils literal notranslate"><span class="pre">month</span> <span class="pre">==</span> <span class="pre">month_now</span></code>, and taking the <code class="docutils literal notranslate"><span class="pre">tmax_clean.mean()</span></code> for that
month. We also limit the months to those in 2010 by using the
<code class="docutils literal notranslate"><span class="pre">year</span> <span class="pre">==</span> <span class="pre">'2010'</span></code> condition.</li>
<li>We added <code class="docutils literal notranslate"><span class="pre">1</span></code> to the <code class="docutils literal notranslate"><span class="pre">index</span></code> value to ensure the next mean value
goes into the correct location in the <code class="docutils literal notranslate"><span class="pre">means_2010</span></code> array.</li>
</ol>
<p>This might seem a bit complicated, but it is rather powerful as well.
We’ve efficiently calcuated mean monthly max temperatures in only a few
lines of code!</p>
</div>
<div class="section" id="Using-functions-on-NumPy-array-data">
<h3>Using functions on NumPy array data<a class="headerlink" href="#Using-functions-on-NumPy-array-data" title="Permalink to this headline">¶</a></h3>
<p>As you might have noticed above, the <code class="docutils literal notranslate"><span class="pre">means_2010</span></code> array has
temperatures in Fahrenheit, which might be easier for us to work with in
Celsius. Fortunately, we can easily convert NumPy array data from
Fahrenheit to Celsius using a familiar function.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">fahrToCelsius</span><span class="p">(</span><span class="n">temp</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">temp</span> <span class="o">-</span> <span class="mf">32.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1.8</span>
</pre></div>
</div>
</div>
<p>Now, let’s go about that conversion.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">means_2010_celsius</span> <span class="o">=</span> <span class="n">fahrToCelsius</span><span class="p">(</span><span class="n">means_2010</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">means_2010_celsius</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[ -1.23655914   0.25793651  11.39784946  18.75925926  22.20430108
  26.7962963   30.86021505  29.44444444  23.53703704  18.63799283
  11.01851852  -0.66308244]
</pre></div></div>
</div>
<p>Finally, something easy to do with NumPy! All we have to do hear is plug
in a NumPy array with our function and we get back the converted
temperature values.</p>
</div>
<div class="section" id="Computing-monthly-average-temperatures-for-a-range-of-years">
<h3>Computing monthly average temperatures for a range of years<a class="headerlink" href="#Computing-monthly-average-temperatures-for-a-range-of-years" title="Permalink to this headline">¶</a></h3>
<p>One thing we’ll encounter in this week’s exercise is a need to calculate
monthly average temperatures for a number of years. For example, the
average temperature in February from 2010-2015. We can do that with the
tools we have, but in a slightly different way than calculating the
monthly average temperature for each month in those years one by one.
First, let’s make a few masks, starting with the month.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">month_mask</span> <span class="o">=</span> <span class="n">month</span> <span class="o">==</span> <span class="s1">&#39;02&#39;</span>
</pre></div>
</div>
</div>
<p>Nothing crazy here, just ensuring the month is February, or <code class="docutils literal notranslate"><span class="pre">'02'</span></code>.
Now for the years.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">year_mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">year</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2010</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">year</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2015</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Again, nothing too scary here. We do need to use the <code class="docutils literal notranslate"><span class="pre">.astype(int)</span></code>
here to be able to check the range of years, but that is not so bad. Now
let’s find that monthly average temperature for February between 2010
and 2015.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mean_2010_2015</span> <span class="o">=</span> <span class="n">tmax_clean</span><span class="p">[</span><span class="n">month_mask</span> <span class="o">&amp;</span> <span class="n">year_mask</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">mean_2010_2015</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
32.3869047619
</pre></div></div>
</div>
<p>Looks about right, but perhaps we can check the value in Celsius to see
whether that makes sense for winter in the northern hemisphere.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">fahrToCelsius</span><span class="p">(</span><span class="n">mean_2010_2015</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.214947089947
</pre></div></div>
</div>
<p>Right around 0°C, looks good!</p>
</div>
<div class="section" id="Calculating-temperature-anomalies">
<h3>Calculating temperature anomalies<a class="headerlink" href="#Calculating-temperature-anomalies" title="Permalink to this headline">¶</a></h3>
<p>One thing we can do now that we have a mean temperature for February in
2010-2015 is to compare one of those years to the average max
temperature in the time period. This would give us a temperature
anomaly, the difference between the mean value and a given year. Let’s
give that a shot.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">anomaly</span> <span class="o">=</span> <span class="n">means_2010</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">mean_2010_2015</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">anomaly</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.077380952381
</pre></div></div>
</div>
<p>As we can see, February of 2010 was only 0.08° Fahrenheit warmer than
the average February between 2010 and 2015. Pretty typical February, it
would seem. We’ll explore exactly this kind of thing in more detail in
this week’s exercise.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../../lessons/L6/interpreting-errors.html" class="btn btn-neutral float-right" title="Dealing with errors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../../lessons/L6/numpy.html" class="btn btn-neutral" title="NumPy lesson" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, D. Whipp, H. Tenkanen and V. Heikinheimo, Department of Geosciences and Geography, University of Helsinki

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
    <p> <br/> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /> </a></p>
     


</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: master
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../2017/index.html">2017</a></dd>
            <dd><a href="../../../develop/notebooks/L6/numpy/Advanced-data-processing-with-NumPy.html">develop</a></dd>
            <dd><a href="../../../master/notebooks/L6/numpy/Advanced-data-processing-with-NumPy.html">master</a></dd>
        </dl>
    </div>
</div>


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'2018',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>